è§£å†³è·¨åŸŸé—®é¢˜ï¼ˆé¡¹ç›®å¯åŠ¨æ–¹å¼ï¼‰ï¼š
- http-server
- live-server
- npm run dev

## åˆ›å»ºä»“åº“

### githubç«¯åˆ›å»ºä»“åº“

**ä¿å­˜é“¾æ¥** 

### åˆ›å»ºshopæ–‡ä»¶å¤¹ è¯¦ç»†æ­¥éª¤

```vue
PS C:\Users\27892\Desktop\shop> git init
Initialized empty Git repository in C:/Users/27892/Desktop/shop/.git/
PS C:\Users\27892\Desktop\shop> ssh -T git@github.com
Hi mobaisilent! You've successfully authenticated, but GitHub does not provide shell access.
PS C:\Users\27892\Desktop\shop> git remote add shop https://github.com/mobaisilent/shop.git
PS C:\Users\27892\Desktop\shop> git fetch shop
remote: Enumerating objects: 9, done.
remote: Counting objects: 100% (9/9), done.
remote: Compressing objects: 100% (6/6), done.
remote: Total 9 (delta 0), reused 0 (delta 0), pack-reused 0
Unpacking objects: 100% (9/9), 3.29 KiB | 73.00 KiB/s, done.
From https://github.com/mobaisilent/shop
 * [new branch]      main       -> shop/main
PS C:\Users\27892\Desktop\shop> git checkout main
branch 'main' set up to track 'shop/main'.
Already on 'main'
PS C:\Users\27892\Desktop\shop> 
```

### ç„¶åæ–°å»ºtest

å¯¹testæ–°å»ºä¸€ä¸ªvueé¡¹ç›®ï¼Œå°†é¡¹ç›®æ‹–è¿›æ¥
å®ç°æ­£ç¡®çš„ä½¿ç”¨ä»“åº“ï¼Œå¦åˆ™æ€»æ˜¯å‡ºç°é”™è¯¯pushå¤±è´¥

## å“åº”å¼åº”ç”¨å®ä¾‹ä»£ç 

é—®é¢˜ï¼šæ¥è‡ªcopilot

è¿™æ®µä»£ç ä¸­ç¡®å®å­˜åœ¨ä¸€äº›é—®é¢˜ã€‚`name`å’Œ`passwords.p1`éƒ½æ˜¯å“åº”å¼å¼•ç”¨ï¼Œä½ éœ€è¦ä½¿ç”¨.valueè¿›è¡Œè®¿é—®

å®ä¾‹æˆåŠŸä»£ç ï¼š (ä¸ºäº†é¿å…å•°å—¦ï¼šstyleçš„ä»£ç å°±ä¸å±•ç¤ºäº†)
```vue
<script setup>
import { onMounted, ref, reactive, nextTick, toRefs, computed, provide } from 'vue';
// å¯¼å…¥å¤åˆç»„ä»¶
const checkmessage = ref("è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´");
const passwords = reactive({ p1: '', p2: '' });
const check = document.getElementById("check");
const showCheckMessage = ref(false);
const checkPasswords = () => {
  if (passwords.p1 !== passwords.p2 && passwords.p2.length > 0) {
    showCheckMessage.value = true;
  } else {
    showCheckMessage.value = false;
  }
};

const checkname = ref("è¯·è¾“å…¥ç”¨æˆ·å");
const showcname = ref(false);
const name = ref('');
const checkcname = () => {
  if (name.value.length === 0 && passwords.p1.length !== 0) {
    showcname.value = true;
  } else {
    showcname.value = false;
  }
};


</script>

<template>
  <div class="main">
    <div class="title">
      <span>ç”¨æˆ·æ³¨å†Œ</span>
    </div>

    <div class="title-msg">
      <span>è¯·è¾“å…¥æ–°å»ºè´¦æˆ·å’Œå¯†ç </span>
    </div>
    <!-- æ³¨å†Œä¹‹åè·³è½¬åˆ°ç™»å½•ç•Œé¢ æ‰€ä»¥è¿™ä¸ªindexè¿˜ç®—æ˜¯åˆç† -->
    <form class="login-form" action="/html/index/index.html" method="post" novalidate>
      <div class="input-content">
        <div>
          <input type="text" autocomplete="off" placeholder="ç”¨æˆ·å" name="username" required v-model="name" />
        </div>
        <div id="cnamed" class="cnamed">
          <p id="cname" class="cname" v-if="showcname">{{ checkname }}</p>
        </div>
        <div style="margin-top: 16px">
          <input type="password" id="p1" autocomplete="off" placeholder="å¯†ç " name="password" required maxlength="32"
            v-model="passwords.p1" @input="checkcname" />
        </div>
        <div style="margin-top: 16px">
          <input type="password" id="p2" autocomplete="off" placeholder="ç¡®è®¤å¯†ç " name="password" required maxlength="32"
            v-model="passwords.p2" @input="checkPasswords" />
        </div>
        <div id="check" class="check">
          <p id="checkmassage" class="checkmassage" v-if="showCheckMessage">{{ checkmessage }}</p>
        </div>
      </div>
      <div style="text-align: center; margin-top: 60px;">
        <button type="submit" class="enter-btn">åˆ›å»ºç”¨æˆ·</button>
      </div>
    </form>
  </div>
  <!-- è¿™é‡Œè¡¨å•çš„æ ¼å¼å°±é‡‡ç”¨ç™»å½•é¡µé¢çš„æ ¼å¼å°±è¡Œ -->
</template>
```

> å…·ä½“å°±çœ‹ v-if ï¼Œ v-model  ï¼Œ  @input="" ï¼ˆç»‘å®šä¸€ä¸ªå‡½æ•°ï¼‰
>
> ä»¥åŠ refå’Œrealtiveçš„åˆ›å»º
>
> ä»¥åŠ å“åº”å¼å¯¹è±¡.value.çš„ä½¿ç”¨æ–¹å¼

## å“åº”å¼å˜é‡çš„.valueçš„é”™è¯¯

![image-20240519224548804](C:\Users\27892\Desktop\problems_solves\æ±‡æ€».assets\image-20240519224548804.png)

æ€»æœ‰ç§è§‚å¿µæ˜¯ï¼š jumpdiv=!jumpdiv

```vue
<script setup>
import { ref } from 'vue'

const awesome = ref(true)
</script>

<template>
  <button @click="awesome = !awesome">toggle</button>

	<h1 v-if="awesome">Vue is awesome!</h1>
	<h1 v-else>Oh no ğŸ˜¢</h1>
</template>
```

> æ€»ä¹‹å°½é‡ä¼˜å…ˆä½¿ç”¨ value é˜²æ­¢é”™è¯¯

## æ•°å€¼å‹å“åº”å¼å˜é‡

æ¯”å¦‚  const curid=ref(0)

è¿™ç§æƒ…å†µä¸‹ä¸å­˜åœ¨curid.value ï¼šï¼šå¯ä»¥ç›´æ¥è°ƒç”¨

![å…³äºå“åº”å¼å˜é‡çš„bugå’Œçµæ„Ÿ](C:\Users\27892\Desktop\problems_solves\æ±‡æ€».assets\å…³äºå“åº”å¼å˜é‡çš„bugå’Œçµæ„Ÿ.png)

## å¤šç”¨æ§åˆ¶å°æ‰“å°è°ƒå¼ä¿¡æ¯

![æ‰“å°æŠ¥é”™ä¿¡æ¯ï¼šå®ç°ä¿®æ”¹](C:\Users\27892\Desktop\problems_solves\æ±‡æ€».assets\æ‰“å°æŠ¥é”™ä¿¡æ¯ï¼šå®ç°ä¿®æ”¹.png)

## å…¶ä»–bugè§æºç æ³¨é‡Šä¿¡æ¯å³å¯





## è·¨åŸŸä¿¡æ¯

ä»ä½ çš„æ—¥å¿—ä¿¡æ¯æ¥çœ‹ï¼Œå‰ç«¯åœ¨è°ƒç”¨åç«¯ API æ¥å£æ—¶ç¡®å®å‘ç”Ÿäº†ä¸€äº›é—®é¢˜ï¼Œè¿™å¯èƒ½å¯¼è‡´äº†è·¨åŸŸé—®é¢˜å’Œé‡å®šå‘ã€‚è®©æˆ‘ä»¬é€è¡Œåˆ†ææ—¥å¿—ä¿¡æ¯ï¼Œä»¥ç¡®å®šé—®é¢˜çš„æ ¹æºã€‚

### æ—¥å¿—ä¿¡æ¯åˆ†æ

1. **ç¬¬ä¸€è¡Œæ—¥å¿—**

   ```
   csharp
   Copy code
   [GIN] 2024/05/21 - 16:34:19 | 404 | 1.0764ms | 127.0.0.1 | GET "/static/imgs/avatar/avatar.jpg"
   ```

   - **æ—¶é—´**: 2024/05/21 - 16:34:19
   - **çŠ¶æ€ç **: 404 (Not Found)
   - **è€—æ—¶**: 1.0764ms
   - **å®¢æˆ·ç«¯IP**: 127.0.0.1
   - **HTTPæ–¹æ³•**: GET
   - **è¯·æ±‚è·¯å¾„**: "/static/imgs/avatar/avatar.jpg"

   è¿™æ¡æ—¥å¿—è¡¨ç¤ºå®¢æˆ·ç«¯å°è¯•è¯·æ±‚ä¸€ä¸ªé™æ€èµ„æº `/static/imgs/avatar/avatar.jpg`ï¼Œä½†æœåŠ¡å™¨è¿”å›äº† 404 é”™è¯¯ï¼Œè¯´æ˜è¯¥èµ„æºä¸å­˜åœ¨æˆ–è·¯å¾„é”™è¯¯ã€‚

2. **ç¬¬äºŒè¡Œæ—¥å¿—**

   ```
   csharp
   Copy code
   [GIN] 2024/05/21 - 16:34:20 | 204 | 0s | ::1 | OPTIONS "/api/v1/money/"
   ```

   - **æ—¶é—´**: 2024/05/21 - 16:34:20
   - **çŠ¶æ€ç **: 204 (No Content)
   - **è€—æ—¶**: 0s
   - **å®¢æˆ·ç«¯IP**: ::1 (IPv6 loopback address, equivalent to 127.0.0.1 in IPv4)
   - **HTTPæ–¹æ³•**: OPTIONS
   - **è¯·æ±‚è·¯å¾„**: "/api/v1/money/"

   è¿™æ¡æ—¥å¿—æ˜¾ç¤ºå®¢æˆ·ç«¯å‘é€äº†ä¸€ä¸ª `OPTIONS` è¯·æ±‚åˆ° `/api/v1/money/`ï¼ŒæœåŠ¡å™¨è¿”å›äº† 204 çŠ¶æ€ç ï¼ˆè¡¨ç¤ºæ²¡æœ‰å†…å®¹ï¼‰ã€‚`OPTIONS` è¯·æ±‚é€šå¸¸ç”¨äºè·¨åŸŸèµ„æºå…±äº« (CORS) é¢„æ£€è¯·æ±‚ï¼Œä»¥ç¡®å®šæœåŠ¡å™¨å…è®¸å“ªäº›è·¨åŸŸæ“ä½œã€‚

3. **ç¬¬ä¸‰è¡Œæ—¥å¿—**

   ```
   bash
   Copy code
   [GIN-debug] redirecting request 307: /api/v1/money --> /api/v1/money
   ```

   è¿™æ¡æ—¥å¿—è¡¨æ˜ï¼ŒæœåŠ¡å™¨å°†è¯·æ±‚ä» `/api/v1/money` é‡å®šå‘åˆ°äº† `/api/v1/money`ï¼Œå¹¶ä½¿ç”¨äº† 307 çŠ¶æ€ç ã€‚è¿™æ„å‘³ç€è¯·æ±‚æ–¹æ³•æ²¡æœ‰æ”¹å˜ï¼ˆæ¯”å¦‚ä»ç„¶æ˜¯ GET æˆ– POSTï¼‰ï¼Œä½†è·¯å¾„è¢«é‡å®šå‘ã€‚

### å¯èƒ½çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

#### è·¨åŸŸé—®é¢˜

è·¨åŸŸé—®é¢˜é€šå¸¸ç”±ä»¥ä¸‹åŸå› å¼•èµ·ï¼š

- **ç¼ºå°‘é€‚å½“çš„ CORS å¤´**: ç¡®ä¿æœåŠ¡å™¨æ­£ç¡®è®¾ç½®äº† CORS å¤´ï¼Œå¦‚ `Access-Control-Allow-Origin`ï¼Œ`Access-Control-Allow-Methods`ï¼Œ`Access-Control-Allow-Headers` ç­‰ã€‚

åœ¨ GIN æ¡†æ¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä¸­é—´ä»¶æ¥å¤„ç† CORSï¼Œä¾‹å¦‚ï¼š

```
goCopy codeimport (
    "github.com/gin-gonic/gin"
    "net/http"
)

func CORSMiddleware() gin.HandlerFunc {
    return func(c *gin.Context) {
        c.Writer.Header().Set("Access-Control-Allow-Origin", "*")
        c.Writer.Header().Set("Access-Control-Allow-Credentials", "true")
        c.Writer.Header().Set("Access-Control-Allow-Headers", "Content-Type, Content-Length, Authorization")
        c.Writer.Header().Set("Access-Control-Allow-Methods", "GET, POST, PUT, DELETE, OPTIONS")

        if c.Request.Method == "OPTIONS" {
            c.AbortWithStatus(http.StatusNoContent)
            return
        }

        c.Next()
    }
}

func main() {
    r := gin.Default()
    r.Use(CORSMiddleware())
    // æ³¨å†Œå…¶ä»–è·¯ç”±
    r.Run()
}
```

#### é‡å®šå‘é—®é¢˜

é‡å®šå‘å¯èƒ½ç”±ä»¥ä¸‹åŸå› å¼•èµ·ï¼š

- **è·¯ç”±é…ç½®é—®é¢˜**: ç¡®ä¿è·¯ç”±é…ç½®æ­£ç¡®ï¼Œä¸è¦è®©åŒä¸€è·¯å¾„æ— æ„ä¸­é‡å®šå‘è‡ªå·±ã€‚

ä¾‹å¦‚ï¼Œæ£€æŸ¥ä½ çš„è·¯ç”±é…ç½®æ˜¯å¦æœ‰æ— æ„ä¸­çš„é‡å®šå‘é…ç½®ï¼š

```
goCopy coder.GET("/api/v1/money", func(c *gin.Context) {
    // å¤„ç†è¯·æ±‚
})
```

è€Œä¸æ˜¯ï¼š

```
goCopy coder.GET("/api/v1/money", func(c *gin.Context) {
    c.Redirect(http.StatusTemporaryRedirect, "/api/v1/money")
})
```

### æ€»ç»“

ä½ çš„æ—¥å¿—æ˜¾ç¤ºäº†ä¸€ä¸ªèµ„æºä¸å­˜åœ¨çš„ 404 é”™è¯¯ï¼Œä¸€ä¸ª CORS é¢„æ£€è¯·æ±‚çš„ 204 å“åº”ï¼Œä»¥åŠä¸€ä¸ªè·¯å¾„è‡ªé‡å®šå‘çš„ 307 å“åº”ã€‚é€šè¿‡ç¡®ä¿æ­£ç¡®çš„ CORS é…ç½®å’Œæ£€æŸ¥è·¯ç”±é…ç½®ï¼Œä½ åº”è¯¥èƒ½å¤Ÿè§£å†³è·¨åŸŸé—®é¢˜å’Œä¸å¿…è¦çš„é‡å®šå‘é—®é¢˜ã€‚

è¦è§£å†³è·¨åŸŸé—®é¢˜ï¼Œé™¤äº†æ­£ç¡®å¤„ç† `ShowMoney` å‡½æ•°å¤–ï¼Œè¿˜éœ€è¦ç¡®ä¿å…¨å±€è®¾ç½®äº†é€‚å½“çš„ CORS ä¸­é—´ä»¶ã€‚ä½ å¯ä»¥é€šè¿‡åœ¨ Gin è·¯ç”±ä¸­æ·»åŠ  CORS ä¸­é—´ä»¶æ¥è§£å†³è·¨åŸŸé—®é¢˜ã€‚

### ä¿®æ”¹åçš„ä»£ç 

#### æ·»åŠ  CORS ä¸­é—´ä»¶

é¦–å…ˆï¼Œæ·»åŠ ä¸€ä¸ª CORS ä¸­é—´ä»¶åˆ°ä½ çš„ Gin åº”ç”¨ç¨‹åºï¼š

```
goCopy codeimport (
    "github.com/gin-gonic/gin"
    "net/http"
)

func CORSMiddleware() gin.HandlerFunc {
    return func(c *gin.Context) {
        c.Writer.Header().Set("Access-Control-Allow-Origin", "*") // ä½ å¯ä»¥æ ¹æ®éœ€è¦è®¾ç½®å…·ä½“çš„åŸŸå
        c.Writer.Header().Set("Access-Control-Allow-Credentials", "true")
        c.Writer.Header().Set("Access-Control-Allow-Headers", "Content-Type, Content-Length, Authorization")
        c.Writer.Header().Set("Access-Control-Allow-Methods", "GET, POST, PUT, DELETE, OPTIONS")

        if c.Request.Method == "OPTIONS" {
            c.AbortWithStatus(http.StatusNoContent)
            return
        }

        c.Next()
    }
}
```

#### åº”ç”¨ CORS ä¸­é—´ä»¶

åœ¨ä½ çš„ Gin è·¯ç”±è®¾ç½®ä¸­åº”ç”¨è¿™ä¸ªä¸­é—´ä»¶ï¼š

```
goCopy codefunc main() {
    r := gin.Default()
    r.Use(CORSMiddleware())  // åº”ç”¨ CORS ä¸­é—´ä»¶

    r.POST("/api/v1/money", ShowMoney)

    // å…¶ä»–è·¯ç”±é…ç½®

    r.Run()
}
```

#### ä¿®æ”¹ ShowMoney å‡½æ•°

ä½ çš„ `ShowMoney` å‡½æ•°å·²ç»å¤„ç†äº† JSON å“åº”ï¼Œä¸éœ€è¦ç‰¹åˆ«ä¿®æ”¹å®ƒï¼Œåªéœ€è¦ç¡®ä¿å®ƒä¸æ­£ç¡®çš„è·¯ç”±ä¸€èµ·å·¥ä½œï¼š

```
goCopy codefunc ShowMoney(ctx *gin.Context) {
    var userService service.UserService
    key := ctx.PostForm("Key")
    response := userService.ShowMoney(ctx, key)
    ctx.JSON(http.StatusOK, response)
}
```

### å®Œæ•´çš„ç¤ºä¾‹ä»£ç 

ç»“åˆä¸Šè¿°éƒ¨åˆ†ï¼Œå®Œæ•´çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```
goCopy codepackage main

import (
    "net/http"
    "github.com/gin-gonic/gin"
    "your/package/service"  // ç¡®ä¿å¯¼å…¥æ­£ç¡®çš„ service åŒ…è·¯å¾„
)

// CORS ä¸­é—´ä»¶
func CORSMiddleware() gin.HandlerFunc {
    return func(c *gin.Context) {
        c.Writer.Header().Set("Access-Control-Allow-Origin", "*") // ä½ å¯ä»¥æ ¹æ®éœ€è¦è®¾ç½®å…·ä½“çš„åŸŸå
        c.Writer.Header().Set("Access-Control-Allow-Credentials", "true")
        c.Writer.Header().Set("Access-Control-Allow-Headers", "Content-Type, Content-Length, Authorization")
        c.Writer.Header().Set("Access-Control-Allow-Methods", "GET, POST, PUT, DELETE, OPTIONS")

        if c.Request.Method == "OPTIONS" {
            c.AbortWithStatus(http.StatusNoContent)
            return
        }

        c.Next()
    }
}

// ShowMoney å¤„ç†å‡½æ•°
func ShowMoney(ctx *gin.Context) {
    var userService service.UserService
    key := ctx.PostForm("Key")
    response := userService.ShowMoney(ctx, key)
    ctx.JSON(http.StatusOK, response)
}

func main() {
    r := gin.Default()
    r.Use(CORSMiddleware())  // åº”ç”¨ CORS ä¸­é—´ä»¶

    r.POST("/api/v1/money", ShowMoney)

    // å…¶ä»–è·¯ç”±é…ç½®

    r.Run()
}
```

é€šè¿‡ä¸Šè¿°è®¾ç½®ï¼ŒCORS é—®é¢˜åº”è¯¥å¯ä»¥å¾—åˆ°è§£å†³ã€‚å¦‚æœå‰ç«¯ä»ç„¶æŠ¥è·¨åŸŸé”™è¯¯ï¼Œè¯·ç¡®ä¿å‰ç«¯è¯·æ±‚çš„ URL ä¸åç«¯ CORS é…ç½®ä¸€è‡´ï¼Œå¹¶æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–æ½œåœ¨çš„é—®é¢˜å¯¼è‡´è·¨åŸŸè¯·æ±‚å¤±è´¥ã€‚

## mysqlç›¸å…³ä¿¡æ¯

```sql
mysql> GRANT ALL PRIVILEGES ON *.* TO 'asus'@'%' WITH GRANT OPTION;
Query OK, 0 rows affected (0.01 sec)

mysql> FLUSH PRIVILEGES;
Query OK, 0 rows affected (0.02 sec)

mysql>
```



